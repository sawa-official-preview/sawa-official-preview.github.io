import{g as B,d as l,a as N,b as R,c as F,r as s,o as H,p as M,e as z,f as a,h as i,i as o,j as c,n as b,t as h,u as T,k as x,l as L,m as G,q as j,_ as J}from"./index-B35OPyKg.js";const W="https://arab-pk.badambiz.com",X=_=>B("".concat(W,"/api/room/get_share_detail/"),{info:_});function Y(){function _(t){const r=l.getPlatform();if(r.isPc)return;const f=window.innerWidth;if(Math.min(window.screen.height,window.innerHeight)<5){setTimeout(()=>{_(t)},16);return}const u=Number((f/t).toFixed(3)),E=document.getElementById("viewport-config");E.name="viewport",E.content="width=device-width,initial-scale=".concat(u,",user-scalable=no,maximum-scale=").concat(u,",minimum-scale=").concat(u,",viewport-fit=cover"),document.documentElement.style.width="".concat(t,"px"),r.isIPhone?document.documentElement.style.height="100%":document.documentElement.style.height="".concat(window.innerHeight,"px")}_(750);const e=l.getArgsFromUrl("r");function U(){l.getPlatform().isAndroid?N():R()}function k(){const{origin:t}=window.location;t.indexOf("sawa-are")>=0?window.location.href="sawa://live_room?room_id=".concat(e):l.getArgsFromUrl("ludo")?window.location.href="sawaludo://live_room?room_id=".concat(e):window.location.href="sawaksa://live_room?room_id=".concat(e)}let g=0;function p(){const t=document.createElement("iframe"),{body:r}=document;t.style.cssText="position:absolute;width:1px;height:1px;",window.location.origin.indexOf("sawa-are")>=0?t.src="sawa://live_room?room_id=".concat(e):l.getArgsFromUrl("ludo")?t.src="sawaludo://live_room?room_id=".concat(e):t.src="sawaksa://live_room?room_id=".concat(e),r.appendChild(t),clearTimeout(g),g=setTimeout(()=>{U()},1500)}l.getPlatform().isAndroid?p():k()}var q={VUE_APP_BASE_URL:"https://arab-pk.badambiz.com/",VUE_APP_ENV:"production",VUE_APP_LANGUAGE:"ar",VUE_APP_PROJ_NAME:"",VUE_APP_DEPLOY_SERVER:"ar",VUE_APP_DEPLOY_SERVER_DIST:"",VUE_APP_PROXY_URL:"https://test20-pk.badambiz.com/",VUE_APP_PUBLIC_PATH:"/",VUE_APP_CDN_PATH:"https://sawa-official.github.io/",VUE_APP_TRANSLATE_PROJ:"sawa-h5",VUE_APP_TRANSLATE_SHEET:"sawa官网优化",VUE_APP_TRANSLATE_DOCUMENT:"",VUE_APP_TRANSLATE_SHEET_LANG:"",VUE_APP_FLAVOR:"ksa",VUE_APP_DEPLOY:"github",VUE_APP_SUFFIX:"mobile",VUE_APP_CWD:"代表项目本地根目录不要尝试改变这个值否则你会被炒鱿鱼",VUE_APP_EXTERNALS:"",VUE_APP_ICON:"https://oss-pk-arab.badambiz.com/4c9334bb9c4d7bd3389f9ac272dcf7dc_logo_ksa.ico",VUE_APP_TITLE:"SawaKSA",VUE_APP_SOURCEMAP:"false",VUE_APP_DISABLE_CSS_MODULE:"false",VUE_APP_RELEASE_URL:"https://arab-pk-release.badambiz.com/",VUE_APP_DIST:"dist/mobile",VUE_APP_VERSION:"1.0.322",VITE_APP_TEST:1,VUE_APP_NO_GEN_INDEX_HTML:"true",VUE_APP_WEBSITE_VERSION:"1.0.322"};const n=_=>(G("data-v-30a1615d"),_=_(),j(),_),K={style:{overflow:"scroll",height:"100%"}},Q={class:"header"},Z=n(()=>o("div",{class:"text"},h("Sawa"),-1)),oo=n(()=>o("div",{class:"logo"},null,-1)),eo=[Z,oo],to=n(()=>o("div",{class:"logo2"},null,-1)),so=[to],ao={class:"new-share",id:"new-share"},io=n(()=>o("div",{class:"top"},null,-1)),lo=n(()=>o("div",{class:"top-star1"},null,-1)),no=n(()=>o("div",{class:"top-star2"},null,-1)),co={key:0,class:"bottom"},_o={class:"title",dir:"auto"},ro={class:"card"},uo={key:0,class:"head-r"},mo={key:1,class:"dot-c"},vo=n(()=>o("div",{class:"dot dot1"},null,-1)),ho=n(()=>o("div",{class:"dot dot2"},null,-1)),po=n(()=>o("div",{class:"dot dot3"},null,-1)),fo=[vo,ho,po],Eo=n(()=>o("div",{class:"icon2"},null,-1)),Po=n(()=>o("div",{class:"icon3"},null,-1)),wo=n(()=>o("div",{class:"icon4"},null,-1)),Ao={key:0,class:"icon5"},go=n(()=>o("div",{class:"icon6"},null,-1)),bo={class:"name",dir:"auto"},Uo={class:"num"},To={key:0,class:"home-icon"},ko={key:1},yo={key:0,class:"icon1"},Vo={key:1,class:"icon7"},So={key:2,class:"icon8"},Io={key:3,class:"room-card"},xo={class:"room-name"},Lo={class:"room-name-top",dir:"auto"},No={class:"room-name-bottom"},Ro={class:"breath"},$o=n(()=>o("div",{class:"button-icon button-left"},null,-1)),Co=n(()=>o("div",{class:"button-icon button-right"},null,-1)),Oo=F({__name:"index",setup(_){const e=s(!1),U=s(0),k=s(0),g=s(""),p=s(""),t=s(""),r=s(""),f=s(0),S=s(0),u=s(""),E=s(""),y=s(""),V=s(0),P=s(!1),w=s(!1);H(async()=>{await M(),Y()}),z(async()=>{C(),$()});function I(){window.location.href=q.VUE_APP_CDN_PATH}async function $(){const m=l.getArgsFromUrl("info");if(m){const[v,{result:A,data:d,message:Do}]=await X(m);v&&A===0&&(p.value=d.room_avatar,p.value=p.value.replace(/ /g,"+"),k.value=d.room_level,g.value=d.room_user_nickname,U.value=d.room_user_duid,t.value=d.room_id,r.value=d.uid,u.value=d.avatar,E.value=d.display_uid,y.value=d.nickname,d.room_id&&(e.value=!0))}document.addEventListener("visibilitychange",()=>{document.visibilityState!=="visible"&&(console.log("不可见了"),clearTimeout(f.value),clearTimeout(S.value))}),setTimeout(()=>{var v;document.getElementById("new-share")&&(V.value=(v=document.getElementById("new-share"))==null?void 0:v.scrollHeight,setTimeout(()=>{P.value=!0}))},500)}async function C(){l.getArgsFromUrl("ludo")&&(w.value=!0)}function O(){l.getPlatform().isAndroid?N():R()}function D(){const m=l.getArgsFromUrl("ludo");clearTimeout(f.value);const{origin:v}=window.location;if(v.indexOf("sawa-are")>=0)window.location.href="sawa://live_room?room_id=".concat(t.value);else if(l.getPlatform().isAndroid){const A=document.createElement("iframe"),{body:d}=document;A.style.cssText="position:absolute;width:1px;height:1px;",m?A.src="sawaludo://live_room?room_id=".concat(t.value):A.src="sawaksa://live_room?room_id=".concat(t.value),d.appendChild(A)}else m?window.location.href="sawaludo://live_room?room_id=".concat(t.value):window.location.href="sawaksa://live_room?room_id=".concat(t.value);f.value=setTimeout(()=>{O()},1e3)}return(m,v)=>(a(),i("div",K,[o("div",Q,[P.value&&!w.value?(a(),i("div",{key:0,class:"logoC",onClick:I},eo)):c("",!0),P.value&&w.value?(a(),i("div",{key:1,class:"logoC",onClick:I},so)):c("",!0)]),o("div",ao,[io,lo,no,P.value?(a(),i("div",co)):c("",!0),P.value?(a(),i("div",{key:1,class:"bottom-star1",style:b({top:"".concat(V.value-344,"px")})},null,4)):c("",!0),P.value?(a(),i("div",{key:2,class:"bottom-star2",style:b({top:"".concat(V.value-344,"px")})},null,4)):c("",!0),o("div",_o,h(T(l.sprintf)(T(l._T)("我在{appname}等你来"),{appname:w.value?"Sawa Jackaroo":"Sawa"})),1),o("div",ro,[o("div",{class:x(["head",!e.value&&"head-room"]),style:b({backgroundImage:"url(".concat(e.value?p.value:u.value,")")})},[e.value?(a(),i("div",uo)):c("",!0),e.value?(a(),i("div",mo,fo)):c("",!0)],6),Eo,Po,wo,e.value?c("",!0):(a(),i("div",Ao)),go,o("div",{class:"card-content",style:b({justifyContent:e.value?"space-between":"flex-start"})},[o("div",bo,h(e.value?g.value:y.value),1),o("div",Uo,[L(h(e.value?U.value:E.value)+" ",1),e.value?(a(),i("div",To)):c("",!0),e.value?c("",!0):(a(),i("div",ko,"  ID"))]),e.value?(a(),i("div",yo)):c("",!0),e.value?c("",!0):(a(),i("div",Vo)),e.value?c("",!0):(a(),i("div",So)),e.value?(a(),i("div",Io,[o("div",xo,[o("div",Lo,h(y.value),1),o("div",No,h(E.value)+"   ID",1)]),o("div",{class:"room-head",style:b({backgroundImage:"url(".concat(u.value,")")})},null,4)])):c("",!0)],4),o("span",Ro,[o("div",{class:"button",dir:"auto",onClick:D},[$o,L(" "+h(T(l.sprintf)(T(l._T)("下载并打开{appname}"),{appname:w.value?"Sawa Jackaroo":"Sawa"}))+" ",1),Co]),o("div",{class:x(["button-c",{"-isLudo":w.value}])},null,2)])])])]))}}),Fo=J(Oo,[["__scopeId","data-v-30a1615d"]]);export{Fo as default};
