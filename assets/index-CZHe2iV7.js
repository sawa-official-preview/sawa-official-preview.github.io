import{N as l,S as h,b2 as O,b3 as v,b4 as y,b5 as D,b6 as x,r as u,U as g,e as d,a0 as T,b7 as B,b8 as L,d as C,c as f,f as U,h as V,_ as R,u as r,A as E,ae as m}from"./index-B35OPyKg.js";function F(o,t={}){const n=l(),e=(n==null?void 0:n.proxy)||{};function s(_,a={}){h.report(_,{...a,...t})}s(o,{a:e.a})}var G={VUE_APP_BASE_URL:"https://arab-pk.badambiz.com/",VUE_APP_ENV:"production",VUE_APP_LANGUAGE:"ar",VUE_APP_PROJ_NAME:"",VUE_APP_DEPLOY_SERVER:"ar",VUE_APP_DEPLOY_SERVER_DIST:"",VUE_APP_PROXY_URL:"https://test20-pk.badambiz.com/",VUE_APP_PUBLIC_PATH:"/",VUE_APP_CDN_PATH:"https://sawa-official.github.io/",VUE_APP_TRANSLATE_PROJ:"sawa-h5",VUE_APP_TRANSLATE_SHEET:"sawa官网优化",VUE_APP_TRANSLATE_DOCUMENT:"",VUE_APP_TRANSLATE_SHEET_LANG:"",VUE_APP_FLAVOR:"ksa",VUE_APP_DEPLOY:"github",VUE_APP_SUFFIX:"mobile",VUE_APP_CWD:"代表项目本地根目录不要尝试改变这个值否则你会被炒鱿鱼",VUE_APP_EXTERNALS:"",VUE_APP_ICON:"https://oss-pk-arab.badambiz.com/4c9334bb9c4d7bd3389f9ac272dcf7dc_logo_ksa.ico",VUE_APP_TITLE:"SawaKSA",VUE_APP_SOURCEMAP:"false",VUE_APP_DISABLE_CSS_MODULE:"false",VUE_APP_RELEASE_URL:"https://arab-pk-release.badambiz.com/",VUE_APP_DIST:"dist/mobile",VUE_APP_VERSION:"1.0.322",VITE_APP_TEST:1,VUE_APP_NO_GEN_INDEX_HTML:"true",VUE_APP_WEBSITE_VERSION:"1.0.322"};const b=!!G.VUE_APP_RUN_UNIT_TEST;var w=(o=>(o[o.Google=1]="Google",o[o.Facebook=2]="Facebook",o[o.Account=3]="Account",o[o.Ticket=4]="Ticket",o))(w||{});async function H(o,...t){switch(o){case 1:return M(...t);case 2:return $(...t);case 3:return p(...t);case 4:return z(...t);default:O({err:"unknown login type",data:o})}}const c={display_uid:142059725,password:111111};async function M(o,t=b){return t?p(c.display_uid.toString(),c.password.toString()):v(o)}async function $(o,t,n=b){return n?p(c.display_uid.toString(),c.password.toString()):y(o,t)}async function z(o,t=b){return t?p(c.display_uid.toString(),c.password.toString()):D(o)}async function p(o,t){return x(o,t)}function X(){g("home",l()),d(()=>{console.log("test onMounted"),F("test_report_ow",{is_a:!1}),setTimeout(()=>{var o,t,n;console.log("v1ref",P.value,(o=P.value)==null?void 0:o.triggerError),(n=(t=P.value)==null?void 0:t.triggerError)==null||n.call(t,"test error")},1e3)})}function Y(){console.log("say hello")}const j={sayHello:Y};async function J(o){console.log("google login tokan",o);const t=await H(w.Google,o);console.log("google login userInfo",t),T("onGoogleLogin"+o)}const W=u("v1"),K=u(""),P=u(null),q={};function Q(){const o=l(),t=L(),n=t.compId?"google_login_btn_".concat(t.compId):"google_login_btn";return g(n,o),t}function Z(){const o=Q(),t=u(),n={},e="https://apis.google.com/js/platform.js",s="532022495714-s5hikassju5bdbsmsfc277pt4ro2ff9l.apps.googleusercontent.com";async function _(i){if(!window.gapi)throw T("google sdk not ready"),new Error("gapi not found");return new Promise(k=>{window.gapi.load("auth2",()=>{const S=window.gapi.auth2.init({client_id:s});S&&S.attachClickHandler(i,{},A=>{const{id_token:N}=A.getAuthResponse();o.click(N)},A=>{console.warn(JSON.stringify(A,void 0,2))}),k(!0)})})}async function a(){if(await C.addDynamicScript(e),!window.gapi)return a()}async function I(i){await a(),await _(i)}return d(()=>{if(t.value){const i=t.value;I(i)}}),B(()=>{}),{expose:n,btnRef:t,...q}}const oo=f({__name:"index",props:{compId:{},click:{type:Function}},setup(o,{expose:t}){const{btnRef:n,expose:e}=Z();return t(e),(s,_)=>(U(),V("div",{class:"google-login-btn",ref_key:"btnRef",ref:n,id:"google-login-btn"},null,512))}}),to=R(oo,[["__scopeId","data-v-39624a28"]]);var no={VUE_APP_BASE_URL:"https://arab-pk.badambiz.com/",VUE_APP_ENV:"production",VUE_APP_LANGUAGE:"ar",VUE_APP_PROJ_NAME:"",VUE_APP_DEPLOY_SERVER:"ar",VUE_APP_DEPLOY_SERVER_DIST:"",VUE_APP_PROXY_URL:"https://test20-pk.badambiz.com/",VUE_APP_PUBLIC_PATH:"/",VUE_APP_CDN_PATH:"https://sawa-official.github.io/",VUE_APP_TRANSLATE_PROJ:"sawa-h5",VUE_APP_TRANSLATE_SHEET:"sawa官网优化",VUE_APP_TRANSLATE_DOCUMENT:"",VUE_APP_TRANSLATE_SHEET_LANG:"",VUE_APP_FLAVOR:"ksa",VUE_APP_DEPLOY:"github",VUE_APP_SUFFIX:"mobile",VUE_APP_CWD:"代表项目本地根目录不要尝试改变这个值否则你会被炒鱿鱼",VUE_APP_EXTERNALS:"",VUE_APP_ICON:"https://oss-pk-arab.badambiz.com/4c9334bb9c4d7bd3389f9ac272dcf7dc_logo_ksa.ico",VUE_APP_TITLE:"SawaKSA",VUE_APP_SOURCEMAP:"false",VUE_APP_DISABLE_CSS_MODULE:"false",VUE_APP_RELEASE_URL:"https://arab-pk-release.badambiz.com/",VUE_APP_DIST:"dist/mobile",VUE_APP_VERSION:"1.0.322",VITE_APP_TEST:1,VUE_APP_NO_GEN_INDEX_HTML:"true",VUE_APP_WEBSITE_VERSION:"1.0.322"};function eo(){const o=l(),t=L(),n=t.compId?"input_".concat(t.compId):"input";return g(n,o),t}function so(){const o=eo();async function t(){const _=await ao();o.click(_)}const n={login2:t},e={logOut:co};d(()=>{_o()});const s=o.isTest?{...n,...e}:e;return{...n,expose:s}}function _o(){(function(o,t,n){let e,s=o.getElementsByTagName(t)[0];o.getElementById(n)||(e=o.createElement(t),e.id=n,e.src="https://connect.facebook.net/en_US/sdk.js",s&&s.parentNode.insertBefore(e,s))})(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){const o=no.VUE_APP_FLAVOR2==="ludo"?"462662855828218":"297601757621370";window.FB.init({appId:o,xfbml:!0,version:"v6.0"}),window.FB.AppEvents.logPageView()}}async function ao(){return new Promise(o=>{var t;(t=window.FB)==null||t.login(n=>{const{authResponse:e}=n;if(e){const{accessToken:s,userID:_}=e;o({accessToken:s,userID:_})}})})}function co(o){console.log("logOut"),o=o||function(){};try{window.FB.logout(o)}catch(t){console.error("FB logout error:",t)}}const io=f({__name:"index",props:{compId:{},isTest:{type:Boolean},click:{type:Function}},setup(o,{expose:t}){const{expose:n,login2:e}=so();return t(n),(s,_)=>(U(),V("div",{class:"facebook-login-btn",onClick:_[0]||(_[0]=(...a)=>r(e)&&r(e)(...a))}))}}),ro=R(io,[["__scopeId","data-v-da8c36a2"]]),Eo={class:"test-c"},lo=f({__name:"index",props:{compId:{}},setup(o,{expose:t}){return X(),t(j),(n,e)=>(U(),V("div",Eo,[E(m,{class:"my-input",value:r(W),ref_key:"v1ref",ref:P},null,8,["value"]),E(m,{class:"my-input input-2",value:r(K),"icon-class":"icon-2"},null,8,["value"]),E(to,{style:{marginTop:"20px"},click:r(J)},null,8,["click"]),E(ro,{style:{marginTop:"20px"},click:n.onFBLogin},null,8,["click"])]))}});export{lo as default};
